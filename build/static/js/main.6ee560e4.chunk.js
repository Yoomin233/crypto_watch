(this["webpackJsonpcrypto-watch"]=this["webpackJsonpcrypto-watch"]||[]).push([[0],{10:function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var c=e(9),r=e(2),a=e(7),i=e.n(a),o=e(0),s=e(12),l={"1D":300,"7D":300,"1M":3600,"3M":3600,"1Y":86400},u="https://yoomin.us";t.b=function(n,t){var e=Object(o.useState)([]),a=Object(r.a)(e,2),d=a[0],b=a[1],p=Object(o.useState)(!0),f=Object(r.a)(p,2),j=f[0],h=f[1],m=Object(o.useCallback)((function(){return h(!0),i.a.get("".concat(u,"/api/proxy/crypto-watch/data-api/v3/cryptocurrency/detail/chart?id=").concat(n,"&range=").concat(t)).then((function(n){var t=n.data,e=Object.entries(t.data.points).map((function(n){var t=Object(r.a)(n,2),e=t[0],c=t[1];return{time:Number(e),value:c.v[0]}}));return b(e),e})).catch((function(n){return[]})).finally((function(){h(!1)}))}),[n,t]);return Object(o.useEffect)((function(){m();var e=s.a.subscribe("WS-".concat(n),(function(n){b((function(e){if(!e.length)return e;var r=e[e.length-1],a=1e3*r.time;return Number(new Date)-a>=1e3*l[t]?[].concat(Object(c.a)(e),[{time:Math.floor(Number(new Date)/1e3),value:n.p}]):(r.value=n.p,Object(c.a)(e))}))}));return function(){console.log("unsubscribe!"),s.a.unsubscribe("WS-".concat(n),e)}}),[n,t,m]),[d,j]}},12:function(n,t,e){"use strict";var c=e(35),r=e(36),a=function(){function n(){Object(c.a)(this,n),this.cbs=void 0,this.cbs={}}return Object(r.a)(n,[{key:"subscribe",value:function(n,t){return this.cbs[n]||(this.cbs[n]=[]),this.cbs[n].push(t),t}},{key:"unsubscribe",value:function(n,t){this.cbs[n]&&(this.cbs[n]=this.cbs[n].filter((function(n){return n!==t})),0===this.cbs[n].length&&delete this.cbs[n])}},{key:"emit",value:function(n,t){this.cbs[n]&&this.cbs[n].forEach((function(n){return n(t)}))}}]),n}();t.a=new a},21:function(n,t,e){"use strict";var c,r,a=e(3),i=e(4),o=e(1),s=Object(i.b)(c||(c=Object(a.a)(["\n    to {\n        transform: rotate(1turn);\n    }\n"]))),l=i.a.span(r||(r=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  > span {\n    border: 3px solid var(--border-color);\n    border-radius: 50%;\n    border-top-color: var(--text-color);\n    width: 1em;\n    height: 1em;\n    animation: "," 1s linear 0s infinite;\n  }\n"])),s);t.a=function(){return Object(o.jsx)(l,{children:Object(o.jsx)("span",{})})}},41:function(n,t,e){},61:function(n,t,e){"use strict";e.r(t);var c,r,a,i,o,s,l,u,d,b,p,f,j=e(0),h=e.n(j),m=e(31),x=e.n(m),g=(e(41),e(15)),O=e(9),v=e(6),w=e(2),y=e(3),k=e(4),S=e(8),C=e(21),N=e(1),M=h.a.createContext({period:"1D",setPeriod:function(){}}),D=function(n){var t=n.children,e=Object(j.useState)("1D"),c=Object(w.a)(e,2),r=c[0],a=c[1];return Object(N.jsx)(M.Provider,{value:{period:r,setPeriod:a},children:t})},E=function(n){return String(n).replace(/\.?0+$/,"")},L=function(n){return E(n.toFixed(function(n){if(n>=1)return Math.max(1,4-Math.floor(Math.log10(n)));for(var t=-2;1-n>=0;)n*=10,t+=1;return Math.max(4,4+t)}(n)))},P=k.a.div(c||(c=Object(y.a)(["\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  padding: 6px 8px;\n  /* margin-top: 8px; */\n  vertical-align: top;\n  /* display: inline-block; */\n  /* border-left: 1px solid #fff; */\n  /* border-radius: 4px; */\n  cursor: pointer;\n  box-sizing: border-box;\n  user-select: none;\n  white-space: nowrap;\n  width: 33%;\n  /* border-bottom: 1px solid var(--border-color); */\n  @media screen and (min-width: 1200px) {\n    width: 25%;\n  }\n  @media screen and (min-width: 451px) and (max-width: 750px) {\n    width: calc(50%);\n  }\n  @media screen and (max-width: 450px) {\n    width: 100%;\n    /* overflow: hidden; */\n  }\n  button {\n    /* font-size: 0.8em; */\n    /* height: 80%; */\n  }\n  .buttons {\n    display: grid;\n    grid-auto-flow: column;\n    gap: 4px;\n    margin-left: 8px;\n    /* position: absolute; */\n    right: 0;\n    top: 0;\n    height: 100%;\n    z-index: 10;\n    background-color: var(--background-color);\n    /* transform: translateX(calc(101%)); */\n    transition: all 0.3s ease;\n    /* &.edit {\n      transform: none;\n    } */\n    /* overflow: hidden; */\n    /* > button {\n    } */\n    /* background: red; */\n  }\n"]))),z=k.a.div(r||(r=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  /* &:hover {\n    transform: translateY(-2px);\n  } */\n  @media screen and (max-width: 450px) {\n    > a:first-child {\n      max-width: 45vw;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n  > span.metrics {\n    display: flex;\n    align-items: center;\n  }\n  > a {\n    color: inherit;\n    font-size: 1.1rem;\n    text-decoration: none;\n    font-weight: bold;\n    > span {\n      display: inline-flex;\n      flex-direction: column;\n      vertical-align: middle;\n      > span:nth-child(2) {\n        font-size: 0.8rem;\n        opacity: 0.5;\n      }\n    }\n  }\n  img {\n    width: 2rem;\n    margin-right: 0.5em;\n    vertical-align: middle;\n  }\n  span.price {\n    font-weight: bold;\n    font-size: 1.1rem;\n    transition: all 0.1s linear;\n    display: inline-flex;\n    flex-direction: column;\n    align-items: flex-end;\n    vertical-align: bottom;\n    &.up {\n      color: var(--up-color);\n    }\n    &.down {\n      color: var(--down-color);\n    }\n    > span:nth-child(2) {\n      font-size: 0.8rem;\n      opacity: 0.5;\n    }\n  }\n  span.percentage {\n    padding: 4px 8px;\n    border-radius: 4px;\n    color: #fff;\n    margin-left: 12px;\n    display: inline-block;\n    text-align: center;\n    /* width: 4.5em; */\n  }\n"]))),I=k.a.div(a||(a=Object(y.a)(["\n  padding-top: 8px;\n  /* border-bottom: 1px solid var(--border-color); */\n  justify-content: space-between;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n"]))),R=k.a.div(i||(i=Object(y.a)(["\n  display: flex;\n  flex-grow: 1;\n  .switch {\n    display: grid;\n    margin-right: 8px;\n    > span {\n      border: 1px solid transparent;\n      border-top-left-radius: 6px;\n      border-bottom-left-radius: 6px;\n      padding: 2px 4px;\n      border-right-color: #1fe230;\n      &.selected {\n        /* color: yellow; */\n        border-color: #1fe230;\n        border-right-color: transparent;\n      }\n    }\n  }\n  img {\n    width: 100%;\n  }\n"]))),F=k.a.div(o||(o=Object(y.a)(["\n  display: flex;\n  margin: 8px 0px 0px;\n  input {\n    border-bottom: none;\n    /* width: auto; */\n    flex-grow: 1;\n  }\n  button {\n    cursor: pointer;\n  }\n  span {\n    padding-top: 2px;\n  }\n"]))),_=Object(j.lazy)((function(){return Promise.all([e.e(4),e.e(3)]).then(e.bind(null,63))})),Y=Object(j.memo)((function(n){var t=n.id,e=void 0===t?1:t,c=Object(j.useContext)(M),r=c.period,a=c.setPeriod,i=Object(j.useState)(r),o=Object(w.a)(i,2),s=o[0],l=o[1];return Object(j.useEffect)((function(){a(s)}),[a,s]),Object(N.jsxs)(R,{children:[Object(N.jsxs)("div",{className:"switch",children:[Object(N.jsx)("span",{className:"1D"===s?"selected":void 0,onClick:function(){return l("1D")},children:"24h"}),Object(N.jsx)("span",{className:"7D"===s?"selected":void 0,onClick:function(){return l("7D")},children:"7D"}),Object(N.jsx)("span",{className:"1M"===s?"selected":void 0,onClick:function(){return l("1M")},children:"1M"}),Object(N.jsx)("span",{className:"3M"===s?"selected":void 0,onClick:function(){return l("3M")},children:"3M"}),Object(N.jsx)("span",{className:"1Y"===s?"selected":void 0,onClick:function(){return l("1Y")},children:"1Y"})]}),Object(N.jsx)(A,{id:e,period:s})]})})),A=function(n){var t=n.id,e=void 0===t?1:t,c=n.period,r=void 0===c?"1D":c;return Object(N.jsx)(j.Suspense,{fallback:Object(N.jsx)(C.a,{}),children:Object(N.jsx)(_,{id:e,period:r})})},T=Object(j.memo)((function(n){var t=n.name,e=n.info,c=n.onRemove,r=n.prices,a=n.setPrices,i=n.idx,o=n.expandStatus,s=n.setExpandStatus,l=n.edit,u=e.id,d=e.p24h,b=e.price,p=e.slug,f=e.symbol,h=e.amount,m=Object(j.useRef)(b),x=Object(j.useState)(0),g=Object(w.a)(x,2),y=g[0],k=g[1],C=Object(j.useState)(h),M=Object(w.a)(C,2),D=M[0],R=M[1];Object(j.useEffect)((function(){b!==m.current&&void 0!==b&&void 0!==m.current&&(m.current<b?k(1):k(-1),setTimeout((function(){return k(0)}),1e3)),m.current=b}),[b]);var _,A=function(n){var t=n?-1:1,e=r[i+t];r[i+t]=r[i],r[i]=e,a(Object(O.a)(r))},T=!!o[u],J=Object(j.useMemo)((function(){return b?L(b):"-"}),[b]);return Object(N.jsxs)(P,{children:[Object(N.jsxs)(z,{onClick:function(){o[u]=!o[u],s(Object(v.a)({},o))},children:[Object(N.jsxs)("a",{href:"https://coinmarketcap.com/currencies/".concat(p,"/"),target:"_blank",rel:"noreferrer",onClick:function(n){return n.stopPropagation()},children:[Object(N.jsx)("img",{src:"https://s2.coinmarketcap.com/static/img/coins/64x64/".concat(u,".png"),alt:u}),Object(N.jsxs)("span",{children:[Object(N.jsx)("span",{children:t||f||"unknown"}),D>0&&Object(N.jsxs)("span",{children:["Balance: ",(_=D,_>=1e6?E((_/1e6).toFixed(2))+"M":_>=1e3?E((_/1e3).toFixed(2))+"K":_)]})]})]}),l?Object(N.jsxs)("div",{className:"buttons",onClick:function(n){return n.stopPropagation()},children:[Object(N.jsx)("button",{onClick:function(){return A(!0)},disabled:0===i,children:Object(N.jsx)(S.a,{})}),Object(N.jsx)("button",{onClick:function(){return A()},disabled:i===r.length-1,children:Object(N.jsx)(S.b,{})}),Object(N.jsx)("button",{onClick:function(){return c(u)},className:"danger",children:Object(N.jsx)(S.h,{})})]}):Object(N.jsxs)("span",{className:"metrics",children:[Object(N.jsxs)("span",{className:"price ".concat(1===y?"up":-1===y?"down":""),children:[D>0&&!!b&&Object(N.jsxs)("span",{children:["$",(b*D).toFixed(2)]}),Object(N.jsxs)("span",{children:["$",J]})]}),Object(N.jsx)("span",{className:"percentage",style:{backgroundColor:d>0?"rgba(0, 255, 0, ".concat(Math.max(.5,Math.sqrt(Math.abs(d/10))),")"):"rgba(255, 0, 0, ".concat(Math.max(.5,Math.sqrt(Math.abs(d/10))),")")},children:d?"".concat(d.toFixed(2),"%"):""})]})]},u),T&&Object(N.jsxs)(F,{children:[Object(N.jsx)("span",{children:"Balance: "}),Object(N.jsx)("input",{placeholder:"input amount...",type:"number",value:D,onChange:function(n){var t=Number(n.target.value);R(t);var e=r.findIndex((function(n){return n.id===u}));e>=0&&(r[e]=Object(v.a)(Object(v.a)({},r[e]),{},{amount:t}),a(Object(O.a)(r)))}})]}),T&&Object(N.jsx)(I,{children:Object(N.jsx)(Y,{id:u})})]})})),J=k.a.p(s||(s=Object(y.a)(["\n  position: fixed;\n  bottom: 0;\n  margin: 0px auto;\n  font-size: 0.8em;\n  padding: 8px;\n  width: 100%;\n  background-color: var(--background-color);\n  /* border-top: 1px solid var(--border-color); */\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n  transition: all 0.3s ease-in-out, transform 0.3s linear 3s;\n\n  backdrop-filter: blur(6px);\n  a {\n    color: var(--text-color);\n    color: inherit;\n  }\n\n  &.Connecting {\n    background-color: yellow;\n    color: #000;\n  }\n  &.Connected {\n    background-color: rgba(0, 255, 0, 0.33);\n    transform: translateY(calc(100% - 4px));\n  }\n  &.Disconnected {\n    background-color: var(--down-color);\n  }\n  > *:first-child {\n    justify-self: start;\n  }\n  > *:last-child {\n    justify-self: end;\n  }\n"]))),B=function(n){var t=n.wsStatus,e=n.lastRefetch,c=n.reconnect,r=t,a=0===r||void 0===r?"Connecting":1===r?"Connected":3===r?"Disconnected":void 0;return Object(N.jsxs)(J,{className:a,children:[Object(N.jsx)("span",{children:Object(N.jsx)("i",{children:((+new Date-Number(e))/1e3).toFixed(0)+" Seconds ago"})}),Object(N.jsxs)("span",{children:[Object(N.jsx)("i",{children:a}),3===r&&Object(N.jsx)("button",{onClick:c,children:"Reconnect"})]})]})},q=k.a.div(l||(l=Object(y.a)(["\n  cursor: pointer;\n  margin: 4px auto;\n  > img {\n    width: 1.5em;\n    margin-right: 0.5em;\n    vertical-align: middle;\n  }\n"]))),U=k.a.div(u||(u=Object(y.a)(["\n  margin: 12px 0px;\n  width: 100%;\n  > div {\n    position: absolute;\n    background: var(--background-color);\n    border: 1px solid var(--border-color);\n    border-radius: 4px;\n    width: 100%;\n    text-align: left;\n    padding-left: 8px;\n    z-index: 10;\n  }\n"]))),W=function(n){var t=n.onAdd,e=n.mapData,c=Object(j.useState)(""),r=Object(w.a)(c,2),a=r[0],i=r[1],o=Object.values(e),s=Object(j.useRef)(null),l=a?o.filter((function(n){return n.name.toLowerCase().includes(a.toLowerCase())||n.symbol.toLowerCase().includes(a.toLowerCase())})):[];return Object(N.jsxs)(U,{children:[Object(N.jsx)("input",{value:a,onChange:function(n){return i(n.target.value)},placeholder:o.length?"Try 'Bitcoin'":"Loading...",disabled:!o.length,ref:s,className:"crypto-search"}),l.length?Object(N.jsx)("div",{children:l.slice(0,10).map((function(n){return Object(N.jsxs)(q,{onClick:function(){t(n.id),i(""),setTimeout((function(){var n;null===(n=s.current)||void 0===n||n.focus()}),500)},children:[Object(N.jsx)("img",{src:"https://s2.coinmarketcap.com/static/img/coins/64x64/".concat(n.id,".png"),alt:n.id}),n.name]},n.id)}))}):null]})},$=e(7),K=e.n($),G=e(10),H=function(n,t){var e=Object(j.useState)(new Date),c=Object(w.a)(e,2),r=c[0],a=c[1],i=function(){return K.a.get("".concat(G.a,"/api/proxy/crypto-watch/data-api/v3/cryptocurrency/listing?ids=").concat(n.join(","),"&aux=ath")).then((function(n){var e=n.data;if(null===e||void 0===e?void 0:e.data){var c=e.data.cryptoCurrencyList;a(new Date),t((function(n){return n.map((function(n){var t,e,r,a,i=c.find((function(t){return t.id===n.id}));return i?Object(v.a)(Object(v.a)({},n),{},{price:(null===(t=i.quotes)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.price)||0,p24h:(null===(r=i.quotes)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.percentChange24h)||0,name:i.name,slug:i.slug}):n}))}))}}))};return Object(j.useEffect)((function(){i()}),[n.length,t]),[i,r]},V=function(n){var t=Object(j.useState)((function(){return localStorage.getItem(n)?JSON.parse(String(localStorage.getItem(n))).data:{}})),e=Object(w.a)(t,2),c=e[0],r=e[1],a=Object(j.useCallback)((function(){return K.a.get("".concat(G.a,"/api/proxy/crypto-watch/data-api/v3/map/all?cryptoAux=status&limit=10000&listing_status=active&start=1")).then((function(t){var e=t.data.data.cryptoCurrencyMap.reduce((function(n,t){return n[t.id]=t,n}),{});r(e),localStorage.setItem(n,JSON.stringify({data:e,timeStamp:+new Date}))}))}),[n]);return Object(j.useEffect)((function(){localStorage.getItem(n)?JSON.parse(String(localStorage.getItem(n))).timeStamp+864e5<=Number(new Date)&&(console.log("refetch!"),a()):(console.log("init fetch!"),a())}),[a,n]),c},X=function(n,t){var e=Object(j.useRef)(!1);Object(j.useEffect)((function(){e.current?n():e.current=!0}),[t])},Q=function(n){var t=n.onClose,e=n.onMessage,c=n.ids,r=Object(j.useState)(0),a=Object(w.a)(r,2),i=a[0],o=a[1],s=Object(j.useRef)(),l=Object(j.useRef)(!1);Object(j.useEffect)((function(){c.length&&(l.current=!0,b())}),[c.length]);var u=function n(){var t;try{t=new WebSocket("wss://stream.coinmarketcap.com/price/latest"),s.current=t}catch(e){console.log("reconnect!"),setTimeout((function(){n(),d(c)}),1e3)}},d=function n(c){if(s.current){var r=s.current;o(r.readyState),r.onopen=function(){console.log("ws connected!"),o(r.readyState),l.current&&(l.current=!1);var a={method:"subscribe",id:"price",data:{cryptoIds:c}};r.send(JSON.stringify(a)),r.onmessage=function(n){e&&e(n)},r.addEventListener("close",(function(e){console.log("ws closed!"),o(r.readyState),l.current||(console.log("reconnecting..."),t&&t(),setTimeout((function(){u(),n(c)}),1e3))}))}}},b=function(){console.log("reconnect!"),function(){var n;null===(n=s.current)||void 0===n||n.close()}(),u(),d(c)};return[i,b]},Z=K.a.create({headers:{Authorization:"Bearer 5fcb77e68787da1467daeea55f0dd01a017efdf3"}}),nn=k.a.div(d||(d=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 8px;\n  /* position: absolute; */\n  /* bottom: 0.5em; */\n  width: 100%;\n  font-size: 0.8em;\n  a {\n    &:visited {\n      color: var(--text-color);\n    }\n  }\n  .export {\n    text-decoration: underline;\n  }\n"]))),tn=function(){return Object(N.jsxs)(nn,{className:"info",children:[Object(N.jsxs)("span",{children:["Data Source:"," ",Object(N.jsx)("a",{href:"https://coinmarketcap.com/",target:"_blank",rel:"noreferrer",children:"CoinMarketCap"})]}),"\xa0\xa0\xa0",Object(N.jsx)("span",{children:Object(N.jsx)("a",{href:"https://github.com/YueminHu/crypto_watch",target:"_blank",rel:"noreferrer",children:"Github"})}),"\xa0\xa0\xa0",Object(N.jsx)("span",{className:"export",onClick:function(){Z.patch("https://api-ssl.bitly.com/v4/bitlinks/bit.ly/3NOtY7t",{long_url:"https://google.com"}).then((function(n){var t=n.data;navigator.clipboard.writeText(t.link).then((function(){alert("Link Copied!")}))}))},children:"Update"})]})},en=e(12),cn=function(n){var t=n.prices;return Object(N.jsxs)("button",{onClick:function(){var n={name:"my-watchlist",secret:1234,list:t.map((function(n){return{id:n.id,amount:n.amount}}))};K.a.post("".concat(G.a,"/api/v1/crypto-watch-name"),n).then((function(t){0===t.data.status.code&&function(n,t){var e=new URL(window.location.href);t&&t.forEach((function(n){return e.searchParams.delete(n)})),Object.keys(n).forEach((function(t){e.searchParams.set(t,String(n[t]))})),window.history.replaceState("",document.title,e)}({name:n.name},["ids"]),alert(t.data.status.code)}))},children:[Object(N.jsx)(S.c,{}),"Save"]})},rn="-",an="LOCAL_ID_KEY",on=k.a.div(b||(b=Object(y.a)(["\n  text-align: left;\n  padding: 0px 8px;\n  /* padding-top: 8px; */\n"]))),sn=k.a.div(p||(p=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  /* top: 0; */\n  background-image: linear-gradient(\n    to bottom,\n    var(--background-color) 0%,\n    var(--background-color) 70%,\n    transparent 100%\n  );\n  top: -1px;\n  z-index: 10;\n  @media screen and (max-width: 450px) {\n    flex-direction: column;\n    /* overflow: hidden; */\n  }\n  > div:first-child {\n    flex-grow: 1;\n  }\n  > p.buttons {\n    margin: 0px auto 8px;\n    white-space: nowrap;\n    width: 100%;\n    overflow: scroll;\n  }\n"]))),ln=k.a.div(f||(f=Object(y.a)(["\n  text-align: center;\n  cursor: pointer;\n  margin: 32px auto;\n  font-weight: bold;\n"]))),un=function(){var n=new URL(window.location.href);if(n.searchParams.get("name"))return[];var t=localStorage.getItem(an)||n.searchParams.get("ids")||"",e=t.match(/[a-z]/);return t?t.split("_").map((function(n){return{id:n.includes(rn)?parseInt(n.split(rn)[0],e?36:10):parseInt(n,e?36:10)||1,amount:n.includes(rn)?Number(n.split(rn)[1]):""}})):[]};function dn(){var n=Object(j.useState)(!1),t=Object(w.a)(n,2),e=t[0],c=t[1],r=Object(j.useState)(un),a=Object(w.a)(r,2),i=a[0],o=a[1],s=Object(j.useState)({}),l=Object(w.a)(s,2),u=l[0],d=l[1],b=i.map((function(n){return n.id})),p=i.map((function(n){return n.amount})),f=V("LOCAL_KEY"),h=H(b,o),m=Object(w.a)(h,2),x=m[0],y=m[1],k=Q({ids:b,onClose:function(){return x()},onMessage:function(n){var t,e=JSON.parse(n.data);if(null===e||void 0===e||null===(t=e.d)||void 0===t?void 0:t.cr){var c=e.d.cr;en.a.emit("WS-".concat(c.id),c),o((function(n){return n.map((function(n){return n.id===c.id?Object(v.a)(Object(v.a)(Object(v.a)({},c),n),{},{price:c.p,p24h:c.p24h}):n}))}))}else console.log(e)}}),C=Object(w.a)(k,2),M=C[0],E=C[1],L=function(n,t){b.includes(n)&&t||(o((function(e){return t?[].concat(Object(O.a)(e),[{id:n}]):e.filter((function(t){return t.id!==n}))})),d(Object(v.a)(Object(v.a)({},u),{},Object(g.a)({},n,!0))))};return Object(j.useEffect)((function(){var n,t=(n="name",new URL(window.location.href).searchParams.get(n));t&&K.a.get("".concat(G.a,"/api/v1/crypto-watch-name?name=").concat(t)).then((function(n){n.data.data&&o(n.data.data)}))}),[]),X((function(){var n=b.map((function(n,t){return n.toString(36)+(p[t]?"".concat(rn).concat(p[t]):"")})).join("_");localStorage.setItem(an,n)}),b.join()+p.join()),Object(N.jsx)(D,{children:Object(N.jsxs)("div",{className:"App",children:[Object(N.jsxs)(sn,{children:[Object(N.jsx)(W,{onAdd:function(n){return L(n,!0)},mapData:f}),Object(N.jsxs)("p",{className:"buttons",children:[Object(N.jsxs)("button",{onClick:function(){var n=Object(O.a)(i);n.sort((function(n,t){return n.amount&&n.price&&t.price&&t.amount&&"number"===typeof n.amount&&"number"===typeof t.amount?t.amount*t.price-n.amount*n.price:-1/0})),o(n)},children:[Object(N.jsx)(S.g,{}),"Sort Value"]}),"\xa0",Object(N.jsxs)("button",{onClick:function(){var n=Object(O.a)(i);n.sort((function(n,t){return n.p24h&&t.p24h?t.p24h-n.p24h:1/0})),o(n)},children:[Object(N.jsx)(S.f,{}),"Sort Change"]}),"\xa0",Object(N.jsxs)("button",{onClick:function(){return d({})},children:[Object(N.jsx)(S.e,{}),"Fold All"]}),"\xa0",Object(N.jsxs)("button",{onClick:function(){return c(!e)},children:[Object(N.jsx)(S.d,{}),e?"Done":"Edit"]}),"\xa0",Object(N.jsx)(cn,{prices:i})]})]}),Object(N.jsx)(on,{children:i.length?i.map((function(n,t){var c;return Object(N.jsx)(T,{name:null===(c=f[n.id])||void 0===c?void 0:c.symbol,info:n,onRemove:function(n){return L(n)},prices:i,setPrices:o,idx:t,expandStatus:u,setExpandStatus:d,edit:e},n.id)})):Object(N.jsx)(ln,{onClick:function(){var n;null===(n=document.querySelector("input.crypto-search"))||void 0===n||n.focus()},children:"Click me to add"})}),i.some((function(n){return!!n.amount}))&&Object(N.jsxs)("p",{children:["Total Amount: $",Object(N.jsx)("b",{children:i.reduce((function(n,t){return t.amount&&t.price&&"number"==typeof t.amount?n+t.amount*t.price:n}),0).toFixed(2)})]}),Object(N.jsx)(tn,{}),b.length?Object(N.jsx)(B,{wsStatus:M,reconnect:E,lastRefetch:y}):null]})})}var bn=function(n){n&&n instanceof Function&&e.e(5).then(e.bind(null,64)).then((function(t){var e=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;e(n),c(n),r(n),a(n),i(n)}))};x.a.render(Object(N.jsx)(h.a.StrictMode,{children:Object(N.jsx)(dn,{})}),document.getElementById("root")),bn()}},[[61,1,2]]]);
//# sourceMappingURL=main.6ee560e4.chunk.js.map