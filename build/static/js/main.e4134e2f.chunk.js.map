{"version":3,"sources":["components/Spinner.tsx","utils/eventEmitter.ts","Footer.tsx","context/index.tsx","Cell/styled.ts","Cell/index.tsx","utils/number.ts","Add.tsx","hooks/useGetListings.ts","hooks/useGetMapStorage.ts","hooks/useSubsequentUpdate.ts","Info.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["spin","keyframes","SpinnerWrapper","styled","span","Spinner","EventEmitter","cbs","this","event","cb","push","filter","func","length","data","forEach","Wrapper","p","Footer","wsStatus","lastRefetch","reconnect","status","statusString","undefined","className","Date","Number","toFixed","onClick","GlobalContext","React","createContext","period","setPeriod","GlobalContextProvider","children","useState","Provider","value","div","CellWrapper","MoreSection","ChartsWrapper","LazyChart","lazy","ChartsGroup","memo","id","useContext","globalPeriod","setGlobalPeriod","useEffect","Charts","fallback","PriceCell","name","info","onRemove","prices","setPrices","idx","expandStatus","setExpandStatus","edit","p24h","price","slug","symbol","lastPrice","useRef","isUp","setIsUp","current","setTimeout","onMove","idxOffset","temp","isExpanded","priceDisplay","useMemo","num","Math","max","floor","log10","count","determineFraction","href","target","rel","e","stopPropagation","src","alt","disabled","style","backgroundColor","sqrt","abs","TokenList","AddToken","onAdd","mapData","search","setSearch","mapArr","Object","values","ref","searchRes","token","toLowerCase","includes","onChange","placeholder","slice","map","r","focus","useGetListings","ids","setter","setLastRefetch","refetch","axios","get","join","then","priceData","cryptoCurrencyList","d","find","quotes","percentChange24h","useGetMapStorage","key","localStorage","getItem","JSON","parse","String","setMapData","fetchMap","useCallback","storedData","cryptoCurrencyMap","reduce","prev","next","setItem","stringify","timeStamp","console","log","useSubsequentUpdate","deps","mounted","instance","create","headers","Authorization","Info","patch","long_url","navigator","clipboard","writeText","link","alert","LOCAL_ID_KEY","HeadWrapper","getIds","URL","window","location","searchParams","split","App","setWSStatus","setEdit","resubscribing","WSInstance","refetchAPI","initWS","WS","WebSocket","subscribeWS","readyState","onopen","param","method","cryptoIds","send","onmessage","res","cr","eventEmitter","emit","addEventListener","close","closeWS","handleAddOrRemove","add","idsString","url","set","history","replaceState","document","title","writeURL","Add","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gJAEMA,EAAOC,YAAH,gFAMJC,EAAiBC,IAAOC,KAAV,iWAaHJ,GAYFK,IARC,WACd,OACE,cAACH,EAAD,UACE,6B,oDC1BAI,E,WAIJ,aAAe,yBAHfC,SAGc,EACZC,KAAKD,IAAM,G,6CAEb,SAAUE,EAAeC,GAKvB,OAJKF,KAAKD,IAAIE,KACZD,KAAKD,IAAIE,GAAS,IAEpBD,KAAKD,IAAIE,GAAOE,KAAKD,GACdA,I,yBAGT,SAAYD,EAAeC,GACrBF,KAAKD,IAAIE,KACXD,KAAKD,IAAIE,GAASD,KAAKD,IAAIE,GAAOG,QAAO,SAACC,GAAD,OAAUA,IAASH,KAC7B,IAA3BF,KAAKD,IAAIE,GAAOK,eACXN,KAAKD,IAAIE,M,kBAItB,SAAKA,EAAeM,GACdP,KAAKD,IAAIE,IACXD,KAAKD,IAAIE,GAAOO,SAAQ,SAACN,GAAD,OAAQA,EAAGK,U,KAK1B,QAAIT,G,wKC5BbW,EAAUd,IAAOe,EAAV,u1BA4EEC,EApCA,SAAC,GAST,IARLC,EAQI,EARJA,SACAC,EAOI,EAPJA,YACAC,EAMI,EANJA,UAOMC,EAASH,EAETI,EACO,IAAXD,QAA2BE,IAAXF,EACZ,aACW,IAAXA,EACA,YACW,IAAXA,EACA,oBACAE,EACN,OACE,eAACR,EAAD,CAASS,UAAWF,EAApB,UACE,+BACE,+BACM,IAAIG,KAASC,OAAOP,IAAgB,KAAMQ,QAAQ,GACpD,mBAGN,iCACE,4BAAIL,IACQ,IAAXD,GAAgB,wBAAQO,QAASR,EAAjB,8B,QCtEZS,EAAgBC,IAAMC,cAGhC,CACDC,OAAQ,KACRC,UAAW,eAGAC,EAAkC,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACnCC,mBAAkB,MADiB,mBACxDJ,EADwD,KAChDC,EADgD,KAE/D,OACE,cAACJ,EAAcQ,SAAf,CACEC,MAAO,CACLN,SACAC,aAHJ,SAMGE,KCnBMpB,EAAUd,IAAOsC,IAAV,0qCAqDPC,EAAcvC,IAAOsC,IAAV,s5BA+CXE,EAAcxC,IAAOsC,IAAV,yMASXG,EAAgBzC,IAAOsC,IAAV,qeC7FpBI,EAAYC,gBAAK,kBAAM,sDAEvBC,EAAcC,gBAAU,YAAiB,IAAD,IAAbC,UAAa,MAAR,EAAQ,IAE1CC,qBAAWnB,GADGoB,EAD4B,EACpCjB,OAAiCkB,EADG,EACdjB,UADc,EAGhBG,mBAASa,GAHO,mBAGrCjB,EAHqC,KAG7BC,EAH6B,KAO5C,OAHAkB,qBAAU,WACRD,EAAgBlB,KACf,CAACkB,EAAiBlB,IAEnB,eAACU,EAAD,WACE,sBAAKlB,UAAU,SAAf,UACE,sBACEA,UAAsB,OAAXQ,EAAkB,gBAAaT,EAC1CK,QAAS,kBAAMK,EAAU,OAF3B,iBAMA,sBACET,UAAsB,OAAXQ,EAAkB,gBAAaT,EAC1CK,QAAS,kBAAMK,EAAU,OAF3B,gBAMA,sBACET,UAAsB,OAAXQ,EAAkB,gBAAaT,EAC1CK,QAAS,kBAAMK,EAAU,OAF3B,gBAMA,sBACET,UAAsB,OAAXQ,EAAkB,gBAAaT,EAC1CK,QAAS,kBAAMK,EAAU,OAF3B,gBAMA,sBACET,UAAsB,OAAXQ,EAAkB,gBAAaT,EAC1CK,QAAS,kBAAMK,EAAU,OAF3B,mBAOF,cAAC,EAAD,CAAQc,GAAIA,EAAIf,OAAQA,UAKxBoB,EAAS,SAAC,GAA+B,IAAD,IAA5BL,UAA4B,MAAvB,EAAuB,MAApBf,cAAoB,MAAX,KAAW,EAC5C,OACE,cAAC,WAAD,CAAUqB,SAAU,cAAClD,EAAA,EAAD,IAApB,SACE,cAACwC,EAAD,CAAWI,GAAIA,EAAIf,OAAQA,OAqIlBsB,EAhIGR,gBAChB,YAUY,IATVS,EASS,EATTA,KACAC,EAQS,EARTA,KACAC,EAOS,EAPTA,SACAC,EAMS,EANTA,OACAC,EAKS,EALTA,UACAC,EAIS,EAJTA,IACAC,EAGS,EAHTA,aACAC,EAES,EAFTA,gBACAC,EACS,EADTA,KAEQhB,EAAkCS,EAAlCT,GAAIiB,EAA8BR,EAA9BQ,KAAMC,EAAwBT,EAAxBS,MAAOC,EAAiBV,EAAjBU,KAAMC,EAAWX,EAAXW,OACzBC,EAAYC,iBAAOJ,GAFhB,EAGe7B,mBAAqB,GAHpC,mBAGFkC,EAHE,KAGIC,EAHJ,KAKTpB,qBAAU,WAENc,IAAUG,EAAUI,cACVjD,IAAV0C,QACsB1C,IAAtB6C,EAAUI,UAENJ,EAAUI,QAAUP,EACtBM,EAAQ,GAERA,GAAS,GAEXE,YAAW,kBAAMF,EAAQ,KAAI,MAE/BH,EAAUI,QAAUP,IACnB,CAACA,IAEJ,IAAMS,EAAS,SAACJ,GAEd,IAAMK,EAAYL,GAAQ,EAAI,EAExBM,EAAOlB,EAAOE,EAAMe,GAC1BjB,EAAOE,EAAMe,GAAajB,EAAOE,GACjCF,EAAOE,GAAOgB,EAEdjB,EAAU,YAAID,KAGVmB,IAAehB,EAAad,GAE5B+B,EAAeC,mBAAQ,WAC3B,OAAOd,EAAQA,EAAMtC,QCxHM,SAACqD,GAChC,GAAIA,GAAO,EACT,OAAOC,KAAKC,IAAI,EAAG,EAAID,KAAKE,MAAMF,KAAKG,MAAMJ,KAI7C,IAFA,IAAIK,GAAS,EAEN,EAAIL,GAAO,GAChBA,GAAO,GACPK,GAAS,EAEX,OAAOJ,KAAKC,IAAI,EAAG,EAAIG,GD8GQC,CAAkBrB,IAAU,MACxD,CAACA,IAEJ,OACE,eAAC,EAAD,WACE,eAACzB,EAAD,CAEEZ,QAAS,WAEPiC,EAAad,IAAOc,EAAad,GACjCe,EAAgB,eAAKD,KALzB,UAQE,oBACE0B,KAAI,+CAA0CrB,EAA1C,KACJsB,OAAO,SACPC,IAAI,aACJ7D,QAAS,SAAC8D,GAAD,OAAOA,EAAEC,mBAJpB,UAME,qBACEC,IAAG,8DAAyD7C,EAAzD,QACH8C,IAAK9C,IAENQ,GAAQY,GAAU,aAEpBJ,EACC,sBAAKvC,UAAS,UAAd,UACE,wBAAQI,QAAS,kBAAM8C,GAAO,IAAOoB,SAAkB,IAARlC,EAA/C,oBAGA,wBACEhC,QAAS,kBAAM8C,KACfoB,SAAUlC,IAAQF,EAAO9C,OAAS,EAFpC,oBAMA,wBAAQgB,QAAS,kBAAM6B,EAASV,IAAKvB,UAAU,SAA/C,uBAKF,iCACE,sBACEA,UAAS,gBACE,IAAT8C,EAAa,MAAiB,IAAVA,EAAc,YAAS/C,GAF/C,SAKGuD,IAEH,sBACEtD,UAAU,aACVuE,MAAO,CACLC,gBACEhC,EAAO,EAAP,0BACuBiB,KAAKC,IACtB,GACAD,KAAKgB,KAAKhB,KAAKiB,IAAIlC,EAAO,MAHhC,+BAKuBiB,KAAKC,IACtB,GACAD,KAAKgB,KAAKhB,KAAKiB,IAAIlC,EAAO,MAPhC,MAJN,SAeGA,EAAI,UAAMA,EAAKrC,QAAQ,GAAnB,KAA2B,UA1DjCoB,GAiEN8B,GACC,cAACpC,EAAD,UACE,cAACI,EAAD,CAAaE,GAAIA,YE9LvBoD,EAAYlG,IAAOsC,IAAV,+JAUTxB,EAAUd,IAAOsC,IAAV,4RAiEE6D,EAnDE,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,QAAmB,EAChBlE,mBAAS,IADO,mBACrCmE,EADqC,KAC7BC,EAD6B,KAEtCC,EAASC,OAAOC,OAAOL,GACvBM,EAAMvC,iBAAyB,MAM/BwC,EAAYN,EACdE,EAAO/F,QACL,SAACoG,GAAD,OACEA,EAAMvD,KAAKwD,cAAcC,SAAST,EAAOQ,gBACzCD,EAAM3C,OAAO4C,cAAcC,SAAST,EAAOQ,kBAE/C,GACJ,OACE,eAAC,EAAD,WACE,uBACEzE,MAAOiE,EACPU,SAAU,SAACvB,GAAD,OAAOc,EAAUd,EAAEF,OAAOlD,QACpC4E,YAAaT,EAAO7F,OAAS,gBAAkB,aAC/CkF,UAAWW,EAAO7F,OAClBgG,IAAKA,IAENC,EAAUjG,OACT,8BACGiG,EAAUM,MAAM,EAAG,IAAIC,KAAI,SAACC,GAAD,OAC1B,eAAClB,EAAD,CAEEvE,QAAS,WACPyE,EAAMgB,EAAEtE,IACRyD,EAAU,IACV/B,YAAW,WAAO,IAAD,EACf,UAAAmC,EAAIpC,eAAJ,SAAa8C,UACZ,MAPP,UAUE,qBACE1B,IAAG,8DAAyDyB,EAAEtE,GAA3D,QACH8C,IAAKwB,EAAEtE,KAERsE,EAAE9D,OAbE8D,EAAEtE,SAiBX,S,gBCfKwE,EAvDQ,SACrBC,EACAC,GAU+B,MAGOrF,mBAAS,IAAIX,MAHpB,mBAGxBN,EAHwB,KAGXuG,EAHW,KAKzBC,EAAU,kBACdC,IACGC,IADH,+EAE4EL,EAAIM,KAC1E,KAHN,aAMGC,MAAK,YAAe,IAAZlH,EAAW,EAAXA,KACP,GAAI,OAACA,QAAD,IAACA,OAAD,EAACA,EAAMA,KAAX,CACA,IAAMmH,EAAYnH,EAAKA,KAAKoH,mBAC5BP,EAAe,IAAIjG,MACnBgG,GAAO,SAAC5G,GACN,OAAOA,EAAKuG,KAAI,SAACc,GACf,IAGU,QAHJC,EAAOH,EAAUG,MAAK,SAACnH,GAAD,OAAYA,EAAE+B,KAAOmF,EAAEnF,MAGnD,OAAIoF,EACK,2BACFD,GADL,IAEEjE,OAAO,UAAAkE,EAAKC,cAAL,mBAAc,UAAd,eAAkBnE,QAAS,EAClCD,MAAM,UAAAmE,EAAKC,cAAL,mBAAc,UAAd,eAAkBC,mBAAoB,EAC5C9E,KAAM4E,EAAK5E,KACXW,KAAMiE,EAAKjE,OAGNgE,aAUnB,OALA/E,qBAAU,WACRwE,MAGC,CAACH,EAAI5G,OAAQ6G,IACT,CAACE,EAASxG,ICLJmH,EA/CU,SAACC,GAAiB,IAAD,EACVnG,oBAAc,kBAC1CoG,aAAaC,QAAQF,GACjBG,KAAKC,MAAMC,OAAOJ,aAAaC,QAAQF,KAAO1H,KAC9C,MAJkC,mBACjCyF,EADiC,KACxBuC,EADwB,KAMlCC,EAAWC,uBACf,kBACEnB,IACGC,IACC,gHAEDE,MAAK,YAAe,IACbiB,EADY,EAAXnI,KACiBA,KAAKoI,kBAAkBC,QAC7C,SAACC,EAAWC,GAEV,OADAD,EAAKC,EAAKrG,IAAMqG,EACTD,IAET,IAGFN,EAAWG,GACXR,aAAaa,QACXd,EACAG,KAAKY,UAAU,CACbzI,KAAMmI,EACNO,WAAY,IAAI9H,aAI1B,CAAC8G,IAcH,OAZApF,qBAAU,WACJqF,aAAaC,QAAQF,GACLG,KAAKC,MAAMC,OAAOJ,aAAaC,QAAQF,KAAOgB,UAChD,OAAoB7H,OAAO,IAAID,QAC7C+H,QAAQC,IAAI,YACZX,MAGFU,QAAQC,IAAI,eACZX,OAED,CAACA,EAAUP,IACPjC,GCjCMoD,EAZa,SAAClJ,EAASmJ,GACpC,IAAMC,EAAUvF,kBAAO,GACvBlB,qBAAU,WACHyG,EAAQpF,SAIbgF,QAAQC,IAAI,SACZjJ,KAJEoJ,EAAQpF,SAAU,IAKnB,CAACmF,K,QCRAE,EAAWjC,IAAMkC,OAAO,CAC5BC,QAAS,CACPC,cAAc,qDAIZjJ,EAAUd,IAAOsC,IAAV,6SAgEE0H,EA9CF,WAiBX,OACE,eAAC,EAAD,CAASzI,UAAW,OAApB,UACE,gDACe,IACb,mBAAG+D,KAAK,6BAA6BC,OAAO,SAASC,IAAI,aAAzD,8BAHJ,eAQE,+BACE,mBACEF,KAAK,2CACLC,OAAO,SACPC,IAAI,aAHN,sBATJ,eAkBE,sBAAMjE,UAAU,SAASI,QAnCL,WACtBiI,EACGK,MAAM,uDAAwD,CAG7DC,SAAU,uBAEXpC,MAAK,YAAe,IAAZlH,EAAW,EAAXA,KACPuJ,UAAUC,UAAUC,UAAUzJ,EAAK0J,MAAMxC,MAAK,WAC5CyC,MAAM,uBA0BV,wBC7CAC,EAAe,eAEf1J,EAAUd,IAAOsC,IAAV,iGAMPmI,EAAczK,IAAOsC,IAAV,iXAmBXoI,EAAS,WAKb,OAHEnC,aAAaC,QAAQgC,IACrB,IAAIG,IAAIC,OAAOC,SAASvF,MAAMwF,aAAalD,IAAI,QAC/C,IACemD,MAnCD,KAmCkB5D,KAAI,SAACrE,GAAD,MAAS,CAC7CA,GAAIrB,OAAOqB,IAAO,OAIP,SAASkI,IAAO,IAAD,EACI7I,mBAAiB,GADrB,mBACrBlB,EADqB,KACXgK,EADW,OAEJ9I,oBAAS,GAFL,mBAErB2B,EAFqB,KAEfoH,EAFe,OAIA/I,mBAQ1BuI,GAZ0B,mBAIrBjH,EAJqB,KAIbC,EAJa,OAcYvB,mBAAS,IAdrB,mBAcrByB,EAdqB,KAcPC,EAdO,KAgBtB0D,EAAM9D,EAAO0D,KAAI,qBAAGrE,MAEpBqI,EAAgB/G,kBAAO,GAEvBiC,EAAUgC,EA1DA,aA4DV+C,EAAahH,mBAtBS,EAwBMkD,EAAeC,EAAK7D,GAxB1B,mBAwBrB2H,EAxBqB,KAwBTnK,EAxBS,KA0BtBoK,EAAS,SAATA,IACJ,IAAIC,EACJ,IACEA,EAAK,IAAIC,UAAU,+CACnBJ,EAAW7G,QAAUgH,EACrB,MAAO9F,GACP8D,QAAQC,IAAI,cACZhF,YAAW,WACT8G,IACAG,EAAYlE,KACX,OAQDkE,EAAc,SAAdA,EAAelE,GACnB,GAAK6D,EAAW7G,QAAhB,CACA,IAAMgH,EAAKH,EAAW7G,QACtB0G,EAAYM,EAAGG,YACfH,EAAGI,OAAS,WACVpC,QAAQC,IAAI,iBACZyB,EAAYM,EAAGG,YACXP,EAAc5G,UAChB4G,EAAc5G,SAAU,GAE1B,IAAMqH,EAAQ,CACZC,OAAQ,YACR/I,GAAI,QACJlC,KAAM,CACJkL,UAAWvE,IAGfgE,EAAGQ,KAAKtD,KAAKY,UAAUuC,IAEvBL,EAAGS,UAAY,SAAUC,GAAM,IAAD,EACtBrL,EAAO6H,KAAKC,MAAMuD,EAAIrL,MAC5B,UAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAMqH,SAAV,aAAI,EAASiE,GAAI,CACf,IAAM3I,EAAO3C,EAAKqH,EAAEiE,GAEpBC,IAAaC,KAAb,aAAwB7I,EAAKT,IAAMS,GACnCG,GAAU,SAACD,GACT,OAAOA,EAAO0D,KAAI,SAACpG,GACjB,OAAIA,EAAE+B,KAAOS,EAAKT,GACT,uCACFS,GACAxC,GAFL,IAGEiD,MAAOT,EAAKxC,EACZgD,KAAMR,EAAKQ,OAGRhD,aAIXwI,QAAQC,IAAI5I,IAGhB2K,EAAGc,iBAAiB,SAAS,SAAC5G,GAC5B8D,QAAQC,IAAI,cACZyB,EAAYM,EAAGG,YACVP,EAAc5G,UACjBgF,QAAQC,IAAI,mBACZ6B,IACA7G,YAAW,WACT8G,IACAG,EAAYlE,KACX,YAMLpG,EAAY,WAChBoI,QAAQC,IAAI,cA9DE,WAAO,IAAD,EACpB,UAAA4B,EAAW7G,eAAX,SAAoB+H,QA8DpBC,GACAjB,IACAG,EAAYlE,IAGRiF,EAAoB,SAAC1J,EAAY2J,GACjClF,EAAIR,SAASjE,IAAO2J,GAGxB/I,GAAU,SAACD,GAST,OARkBgJ,EAAG,sBAEZhJ,GAFY,CAGf,CACEX,GAAIA,KAGRW,EAAOhD,QAAO,SAACuD,GAAD,OAAWA,EAAMlB,KAAOA,SA0C9C,OApBA2G,GAAoB,WAClB,IAAMiD,EAAYnF,EAAIM,KAvLR,MA6KC,SAACN,GAChB,IAAMoF,EAAM,IAAIhC,IAAIC,OAAOC,SAASvF,MACpCqH,EAAI7B,aAAa8B,IAAI,MAAOrF,GAC5BqD,OAAOiC,QAAQC,aAAa,GAAIC,SAASC,MAAOL,GAQhDM,CAASP,GACTnE,aAAaa,QAAQoB,EAAckC,KAGlCnF,EAAIM,QAKP3E,qBAAU,WACJqE,EAAI5G,SACNwK,EAAc5G,SAAU,EACxBpD,OAED,CAACoG,EAAI5G,SAKN,cAAC,EAAD,UACE,sBAAKY,UAAU,MAAf,UAEE,eAACkJ,EAAD,WACE,cAACyC,EAAD,CACE9G,MAAO,SAACtD,GAAD,OAAgB0J,EAAkB1J,GAAI,IAC7CuD,QAASA,IAEX,wBAAQ1E,QAAS,YAAmB,GA1CxCkC,EAAgB,KA0CZ,SAA6C,iBAL/C,OAOE,wBAAQlC,QAAS,kBAAMuJ,GAASpH,IAAhC,SACGA,EAAO,OAAS,YAKrB,cAAC,EAAD,UACGL,EAAO0D,KAAI,SAAC5D,EAAWI,GAAZ,aACV,cAAC,EAAD,CACEL,KAAI,UAAE+C,EAAQ9C,EAAKT,WAAf,aAAE,EAAkBoB,OAExBX,KAAMA,EACNC,SAAU,SAACV,GAAD,OAAgB0J,EAAkB1J,IAC5CW,OAAQA,EACRC,UAAWA,EACXC,IAAKA,EACLC,aAAcA,EACdC,gBAAiBA,EACjBC,KAAMA,GARDP,EAAKT,SAYhB,cAAC,EAAD,IAGCyE,EAAI5G,OACH,cAAC,EAAD,CACEM,SAAUA,EAEVE,UAAWA,EACXD,YAAaA,IAEb,UClQZ,IAYeiM,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBvF,MAAK,YAAkD,IAA/CwF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC7C,EAAD,MAEF+B,SAASe,eAAe,SAM1BX,M","file":"static/js/main.e4134e2f.chunk.js","sourcesContent":["import styled, { keyframes } from \"styled-components\";\n\nconst spin = keyframes`\n    to {\n        transform: rotate(1turn);\n    }\n`;\n\nconst SpinnerWrapper = styled.span`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  > span {\n    border: 3px solid var(--border-color);\n    border-radius: 50%;\n    border-top-color: var(--text-color);\n    width: 1em;\n    height: 1em;\n    animation: ${spin} 1s linear 0s infinite;\n  }\n`;\n\nconst Spinner = () => {\n  return (\n    <SpinnerWrapper>\n      <span></span>\n    </SpinnerWrapper>\n  );\n};\n\nexport default Spinner;\n","type Events = string;\n\nclass EventEmitter {\n  cbs: {\n    [key: string]: any[];\n  };\n  constructor() {\n    this.cbs = {};\n  }\n  subscribe(event: Events, cb: any) {\n    if (!this.cbs[event]) {\n      this.cbs[event] = [];\n    }\n    this.cbs[event].push(cb);\n    return cb;\n    // this.cbs.push(cb);\n  }\n  unsubscribe(event: Events, cb: any) {\n    if (this.cbs[event]) {\n      this.cbs[event] = this.cbs[event].filter((func) => func !== cb);\n      if (this.cbs[event].length === 0) {\n        delete this.cbs[event];\n      }\n    }\n  }\n  emit(event: Events, data: any) {\n    if (this.cbs[event]) {\n      this.cbs[event].forEach((cb) => cb(data));\n    }\n  }\n}\n\nexport default new EventEmitter();\n","import styled from \"styled-components\";\n\n// const;\n\nconst Wrapper = styled.p`\n  position: fixed;\n  bottom: 0;\n  margin: 0px auto;\n  font-size: 0.8em;\n  padding: 8px;\n  width: 100%;\n  background-color: var(--background-color);\n  /* border-top: 1px solid var(--border-color); */\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n  transition: all 0.3s ease-in-out, transform 0.3s linear 3s;\n\n  backdrop-filter: blur(6px);\n  a {\n    color: var(--text-color);\n    color: inherit;\n  }\n\n  &.Connecting {\n    background-color: yellow;\n    color: #000;\n  }\n  &.Connected {\n    background-color: rgba(0, 255, 0, 0.33);\n    transform: translateY(calc(100% - 4px));\n  }\n  &.Disconnected {\n    background-color: var(--down-color);\n  }\n  > *:first-child {\n    justify-self: start;\n  }\n  > *:last-child {\n    justify-self: end;\n  }\n`;\n\nconst Footer = ({\n  wsStatus,\n  lastRefetch,\n  reconnect,\n}: // reconnect,\n{\n  wsStatus: number;\n  lastRefetch: Date;\n  reconnect: any;\n}) => {\n  const status = wsStatus;\n  //   console.log(status);\n  const statusString =\n    status === 0 || status === undefined\n      ? \"Connecting\"\n      : status === 1\n      ? \"Connected\"\n      : status === 3\n      ? \"Disconnected\"\n      : undefined;\n  return (\n    <Wrapper className={statusString}>\n      <span>\n        <i>\n          {((+new Date() - Number(lastRefetch)) / 1000).toFixed(0) +\n            \" Seconds ago\"}\n        </i>\n      </span>\n      <span>\n        <i>{statusString}</i>\n        {status === 3 && <button onClick={reconnect}>Reconnect</button>}\n      </span>\n    </Wrapper>\n  );\n};\n\nexport default Footer;\n","import React, { useState } from \"react\";\n\ntype Periods = \"1D\" | \"7D\" | \"1M\" | \"3M\" | \"1Y\";\n\nexport const GlobalContext = React.createContext<{\n  period: Periods;\n  setPeriod: React.Dispatch<React.SetStateAction<Periods>>;\n}>({\n  period: \"1D\",\n  setPeriod: () => void 0,\n});\n\nexport const GlobalContextProvider: React.FC = ({ children }) => {\n  const [period, setPeriod] = useState<Periods>(\"1D\");\n  return (\n    <GlobalContext.Provider\n      value={{\n        period,\n        setPeriod,\n      }}\n    >\n      {children}\n    </GlobalContext.Provider>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  padding: 6px 8px;\n  /* margin-top: 8px; */\n  vertical-align: top;\n  /* display: inline-block; */\n  /* border-left: 1px solid #fff; */\n  /* border-radius: 4px; */\n  cursor: pointer;\n  box-sizing: border-box;\n  user-select: none;\n  white-space: nowrap;\n  width: 33%;\n  border-bottom: 1px solid var(--border-color);\n  @media screen and (min-width: 1200px) {\n    width: 25%;\n  }\n  @media screen and (min-width: 451px) and (max-width: 750px) {\n    width: calc(50%);\n  }\n  @media screen and (max-width: 450px) {\n    width: 100%;\n    /* overflow: hidden; */\n  }\n  button {\n    font-size: 0.8em;\n    height: 80%;\n  }\n  .buttons {\n    display: grid;\n    grid-auto-flow: column;\n    gap: 4px;\n    margin-left: 8px;\n    position: absolute;\n    right: 0;\n    top: 0;\n    height: 100%;\n    z-index: 10;\n    background-color: var(--background-color);\n    /* transform: translateX(calc(101%)); */\n    transition: all 0.3s ease;\n    /* &.edit {\n      transform: none;\n    } */\n    /* overflow: hidden; */\n    /* > button {\n    } */\n    /* background: red; */\n  }\n`;\n\nexport const CellWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  /* &:hover {\n    transform: translateY(-2px);\n  } */\n  @media screen and (max-width: 450px) {\n    > a:first-child {\n      max-width: 45vw;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n  > a {\n    color: inherit;\n    font-size: 1.1em;\n    text-decoration: none;\n    font-weight: bold;\n  }\n  img {\n    width: 2rem;\n    margin-right: 0.5em;\n    vertical-align: middle;\n  }\n  span.price {\n    font-weight: bold;\n    font-size: 1.2em;\n    transition: all 0.1s linear;\n    &.up {\n      color: var(--up-color);\n    }\n    &.down {\n      color: var(--down-color);\n    }\n  }\n  span.percentage {\n    padding: 4px 8px;\n    border-radius: 4px;\n    color: #fff;\n    margin-left: 12px;\n    display: inline-block;\n    text-align: center;\n    /* width: 4.5em; */\n  }\n`;\n\nexport const MoreSection = styled.div`\n  padding-top: 8px;\n  /* border-bottom: 1px solid var(--border-color); */\n  justify-content: space-between;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n`;\n\nexport const ChartsWrapper = styled.div`\n  display: flex;\n  flex-grow: 1;\n  .switch {\n    display: grid;\n    margin-right: 8px;\n    > span {\n      border: 1px solid transparent;\n      border-top-left-radius: 6px;\n      border-bottom-left-radius: 6px;\n      padding: 2px 4px;\n      border-right-color: #1fe230;\n      &.selected {\n        /* color: yellow; */\n        border-color: #1fe230;\n        border-right-color: transparent;\n      }\n    }\n  }\n  img {\n    width: 100%;\n  }\n`;\n","import {\n  lazy,\n  memo,\n  Suspense,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\n// import styled from \"styled-components\";\n// import ImgLoading from \"./components/ImgLoading\";\nimport LazyRender from \"../components/lazyRender\";\nimport Spinner from \"../components/Spinner\";\nimport { GlobalContext } from \"../context\";\nimport { determineFraction } from \"../utils/number\";\nimport { CellWrapper, ChartsWrapper, MoreSection, Wrapper } from \"./styled\";\n\nconst LazyChart = lazy(() => import(\"../components/chart\"));\n\nconst ChartsGroup = memo<any>(({ id = 1 }) => {\n  const { period: globalPeriod, setPeriod: setGlobalPeriod } =\n    useContext(GlobalContext);\n  const [period, setPeriod] = useState(globalPeriod);\n  useEffect(() => {\n    setGlobalPeriod(period);\n  }, [setGlobalPeriod, period]);\n  return (\n    <ChartsWrapper>\n      <div className='switch'>\n        <span\n          className={period === \"1D\" ? \"selected\" : undefined}\n          onClick={() => setPeriod(\"1D\")}\n        >\n          24h\n        </span>\n        <span\n          className={period === \"7D\" ? \"selected\" : undefined}\n          onClick={() => setPeriod(\"7D\")}\n        >\n          7D\n        </span>\n        <span\n          className={period === \"1M\" ? \"selected\" : undefined}\n          onClick={() => setPeriod(\"1M\")}\n        >\n          1M\n        </span>\n        <span\n          className={period === \"3M\" ? \"selected\" : undefined}\n          onClick={() => setPeriod(\"3M\")}\n        >\n          3M\n        </span>\n        <span\n          className={period === \"1Y\" ? \"selected\" : undefined}\n          onClick={() => setPeriod(\"1Y\")}\n        >\n          1Y\n        </span>\n      </div>\n      <Charts id={id} period={period} />\n    </ChartsWrapper>\n  );\n});\n\nconst Charts = ({ id = 1, period = \"1D\" }) => {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <LazyChart id={id} period={period} />\n    </Suspense>\n  );\n};\n\nconst PriceCell = memo(\n  ({\n    name,\n    info,\n    onRemove,\n    prices,\n    setPrices,\n    idx,\n    expandStatus,\n    setExpandStatus,\n    edit,\n  }: any) => {\n    const { id, p24h, price, slug, symbol } = info;\n    const lastPrice = useRef(price);\n    const [isUp, setIsUp] = useState<1 | 0 | -1>(0);\n\n    useEffect(() => {\n      if (\n        price !== lastPrice.current &&\n        price !== undefined &&\n        lastPrice.current !== undefined\n      ) {\n        if (lastPrice.current < price) {\n          setIsUp(1);\n        } else {\n          setIsUp(-1);\n        }\n        setTimeout(() => setIsUp(0), 1000);\n      }\n      lastPrice.current = price;\n    }, [price]);\n\n    const onMove = (isUp?: boolean) => {\n      // let temp;\n      const idxOffset = isUp ? -1 : 1;\n      // if (isUp) {\n      const temp = prices[idx + idxOffset];\n      prices[idx + idxOffset] = prices[idx];\n      prices[idx] = temp;\n\n      setPrices([...prices]);\n    };\n\n    const isExpanded = !!expandStatus[id];\n\n    const priceDisplay = useMemo(() => {\n      return price ? price.toFixed(determineFraction(price)) : \"-\";\n    }, [price]);\n\n    return (\n      <Wrapper>\n        <CellWrapper\n          key={id}\n          onClick={() => {\n            // console.log(\"click!\", expand);\n            expandStatus[id] = !expandStatus[id];\n            setExpandStatus({ ...expandStatus });\n          }}\n        >\n          <a\n            href={`https://coinmarketcap.com/currencies/${slug}/`}\n            target='_blank'\n            rel='noreferrer'\n            onClick={(e) => e.stopPropagation()}\n          >\n            <img\n              src={`https://s2.coinmarketcap.com/static/img/coins/64x64/${id}.png`}\n              alt={id}\n            />\n            {name || symbol || \"unknown\"}\n          </a>\n          {edit ? (\n            <div className={`buttons`}>\n              <button onClick={() => onMove(true)} disabled={idx === 0}>\n                ⇧\n              </button>\n              <button\n                onClick={() => onMove()}\n                disabled={idx === prices.length - 1}\n              >\n                ⇩\n              </button>\n              <button onClick={() => onRemove(id)} className='danger'>\n                ❌\n              </button>\n            </div>\n          ) : (\n            <span>\n              <span\n                className={`price ${\n                  isUp === 1 ? \"up\" : isUp === -1 ? \"down\" : undefined\n                }`}\n              >\n                {priceDisplay}\n              </span>\n              <span\n                className='percentage'\n                style={{\n                  backgroundColor:\n                    p24h > 0\n                      ? `rgba(0, 255, 0, ${Math.max(\n                          0.5,\n                          Math.sqrt(Math.abs(p24h / 10))\n                        )})`\n                      : `rgba(255, 0, 0, ${Math.max(\n                          0.5,\n                          Math.sqrt(Math.abs(p24h / 10))\n                        )})`,\n                }}\n              >\n                {p24h ? `${p24h.toFixed(2)}%` : \"\"}\n              </span>\n            </span>\n          )}\n        </CellWrapper>\n\n        {/* <LazyRender show={isExpanded}> */}\n        {isExpanded && (\n          <MoreSection>\n            <ChartsGroup id={id} />\n          </MoreSection>\n        )}\n        {/* </LazyRender> */}\n      </Wrapper>\n    );\n  }\n);\n\nexport default PriceCell;\n","export const determineFraction = (num: number) => {\n  if (num >= 1) {\n    return Math.max(1, 4 - Math.floor(Math.log10(num)));\n  } else {\n    let count = -2;\n    // let num = 0.000001;\n    while (1 - num >= 0) {\n      num *= 10;\n      count += 1;\n    }\n    return Math.max(4, 4 + count);\n  }\n};\n","import { useRef, useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst TokenList = styled.div`\n  cursor: pointer;\n  margin: 4px auto;\n  > img {\n    width: 1.5em;\n    margin-right: 0.5em;\n    vertical-align: middle;\n  }\n`;\n\nconst Wrapper = styled.div`\n  margin: 12px 0px;\n  > div {\n    position: absolute;\n    background: var(--background-color);\n    border: 1px solid var(--border-color);\n    border-radius: 4px;\n    width: 100%;\n    text-align: left;\n    padding-left: 8px;\n    z-index: 10;\n  }\n`;\n\nconst AddToken = ({ onAdd, mapData }: any) => {\n  const [search, setSearch] = useState(\"\");\n  const mapArr = Object.values(mapData);\n  const ref = useRef<HTMLInputElement>(null);\n\n  // useEffect(() => {\n  //   ref.current?.focus();\n  // }, []);\n\n  const searchRes = search\n    ? mapArr.filter(\n        (token: any) =>\n          token.name.toLowerCase().includes(search.toLowerCase()) ||\n          token.symbol.toLowerCase().includes(search.toLowerCase())\n      )\n    : [];\n  return (\n    <Wrapper>\n      <input\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        placeholder={mapArr.length ? \"Try 'Bitcoin'\" : \"Loading...\"}\n        disabled={!mapArr.length}\n        ref={ref}\n      />\n      {searchRes.length ? (\n        <div>\n          {searchRes.slice(0, 10).map((r: any) => (\n            <TokenList\n              key={r.id}\n              onClick={() => {\n                onAdd(r.id);\n                setSearch(\"\");\n                setTimeout(() => {\n                  ref.current?.focus();\n                }, 500);\n              }}\n            >\n              <img\n                src={`https://s2.coinmarketcap.com/static/img/coins/64x64/${r.id}.png`}\n                alt={r.id}\n              />\n              {r.name}\n            </TokenList>\n          ))}\n        </div>\n      ) : null}\n    </Wrapper>\n  );\n};\n\nexport default AddToken;\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nconst useGetListings = (\n  ids: number[],\n  setter: React.Dispatch<\n    React.SetStateAction<\n      {\n        id: number;\n        price?: number | undefined;\n        p24h?: number | undefined;\n      }[]\n    >\n  >\n  // refetch: boolean\n): [() => Promise<any>, Date] => {\n  // console.log(refetch);\n\n  const [lastRefetch, setLastRefetch] = useState(new Date());\n\n  const refetch = () =>\n    axios\n      .get(\n        `https://api.coinmarketcap.com/data-api/v3/cryptocurrency/listing?ids=${ids.join(\n          \",\"\n        )}&aux=ath`\n      )\n      .then(({ data }) => {\n        if (!data?.data) return;\n        const priceData = data.data.cryptoCurrencyList;\n        setLastRefetch(new Date());\n        setter((data) => {\n          return data.map((d) => {\n            const find = priceData.find((p: any) => p.id === d.id);\n            // console.log(find);\n            // console.log(d.id);\n            if (find) {\n              return {\n                ...d,\n                price: find.quotes?.[0]?.price || 0,\n                p24h: find.quotes?.[0]?.percentChange24h || 0,\n                name: find.name,\n                slug: find.slug,\n              };\n            } else {\n              return d;\n            }\n          });\n        });\n      });\n  useEffect(() => {\n    refetch();\n    // if (!refetch) return;\n    // console.log(\"call!!\");\n  }, [ids.length, setter]);\n  return [refetch, lastRefetch];\n};\n\nexport default useGetListings;\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nconst useGetMapStorage = (key: string) => {\n  const [mapData, setMapData] = useState<any>(() =>\n    localStorage.getItem(key)\n      ? JSON.parse(String(localStorage.getItem(key))).data\n      : {}\n  );\n  const fetchMap = useCallback(\n    () =>\n      axios\n        .get(\n          \"https://api.coinmarketcap.com/data-api/v3/map/all?cryptoAux=status&limit=10000&listing_status=active&start=1\"\n        )\n        .then(({ data }) => {\n          const storedData = data.data.cryptoCurrencyMap.reduce(\n            (prev: any, next: any) => {\n              prev[next.id] = next;\n              return prev;\n            },\n            {}\n          );\n          // console.log(storedData);\n          setMapData(storedData);\n          localStorage.setItem(\n            key,\n            JSON.stringify({\n              data: storedData,\n              timeStamp: +new Date(),\n            })\n          );\n        }),\n    [key]\n  );\n  useEffect(() => {\n    if (localStorage.getItem(key)) {\n      const timeStamp = JSON.parse(String(localStorage.getItem(key))).timeStamp;\n      if (timeStamp + 1000 * 3600 * 24 <= Number(new Date())) {\n        console.log(\"refetch!\");\n        fetchMap();\n      }\n    } else {\n      console.log(\"init fetch!\");\n      fetchMap();\n    }\n  }, [fetchMap, key]);\n  return mapData;\n};\n\nexport default useGetMapStorage;\n","import { useEffect, useRef } from \"react\";\n\nconst useSubsequentUpdate = (cb: any, deps: string) => {\n  const mounted = useRef(false);\n  useEffect(() => {\n    if (!mounted.current) {\n      mounted.current = true;\n      return;\n    }\n    console.log(\"exec!\");\n    cb();\n  }, [deps]);\n};\n\nexport default useSubsequentUpdate;\n","import axios from \"axios\";\nimport styled from \"styled-components\";\n\nconst instance = axios.create({\n  headers: {\n    Authorization: `Bearer 5fcb77e68787da1467daeea55f0dd01a017efdf3`,\n  },\n});\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 8px;\n  /* position: absolute; */\n  /* bottom: 0.5em; */\n  width: 100%;\n  font-size: 0.8em;\n  a {\n    &:visited {\n      color: var(--text-color);\n    }\n  }\n  .export {\n    text-decoration: underline;\n  }\n`;\n\nconst Info = () => {\n  const updateShortLink = () => {\n    instance\n      .patch(\"https://api-ssl.bitly.com/v4/bitlinks/bit.ly/3NOtY7t\", {\n        // long_url: window.location.href,\n        // link: \"https://blog.iccfish.com/2021/08/04/unlock-ssh-of-xiaomi-routers/\",\n        long_url: \"https://google.com\",\n      })\n      .then(({ data }) => {\n        navigator.clipboard.writeText(data.link).then(() => {\n          alert(\"Link Copied!\");\n        });\n      });\n  };\n  const getLink = () => {\n    instance.get(\"https://api-ssl.bitly.com/v4/bitlinks/bit.ly/3NCMPSD\");\n  };\n  return (\n    <Wrapper className={\"info\"}>\n      <span>\n        Data Source:{\" \"}\n        <a href='https://coinmarketcap.com/' target='_blank' rel='noreferrer'>\n          CoinMarketCap\n        </a>\n      </span>\n      &nbsp;&nbsp;&nbsp;\n      <span>\n        <a\n          href='https://github.com/YueminHu/crypto_watch'\n          target='_blank'\n          rel='noreferrer'\n        >\n          Github\n        </a>\n      </span>\n      &nbsp;&nbsp;&nbsp;\n      <span className='export' onClick={updateShortLink}>\n        Update\n      </span>\n      {/* <span className='export' onClick={getLink}>\n        <button>Get</button>\n      </span> */}\n    </Wrapper>\n  );\n};\n\nexport default Info;\n","import { useEffect, useRef, useState } from \"react\";\n\nimport styled from \"styled-components\";\nimport Status from \"./Footer\";\nimport PriceCell from \"./Cell\";\n// import useGetMapStorage from \"./hooks/useGetMapStorage\";\n// import WSStatus from \"./Status\";\nimport AddToken from \"./Add\";\nimport useGetListings from \"./hooks/useGetListings\";\nimport useGetMapStorage from \"./hooks/useGetMapStorage\";\nimport useSubsequentUpdate from \"./hooks/useSubsequentUpdate\";\nimport eventEmitter from \"./utils/eventEmitter\";\nimport Info from \"./Info\";\nimport { GlobalContextProvider } from \"./context\";\n\nconst Separater = \"_\";\n\nconst LOCAL_KEY = \"LOCAL_KEY\";\nconst LOCAL_ID_KEY = \"LOCAL_ID_KEY\";\n\nconst Wrapper = styled.div`\n  text-align: left;\n  padding: 0px 8px;\n  /* padding-top: 8px; */\n`;\n\nconst HeadWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  /* top: 0; */\n  background-image: linear-gradient(\n    to bottom,\n    var(--background-color) 0%,\n    var(--background-color) 70%,\n    transparent 100%\n  );\n  top: -1px;\n  z-index: 10;\n  > div:first-child {\n    flex-grow: 1;\n  }\n`;\n\nconst getIds = () => {\n  const idsStored =\n    localStorage.getItem(LOCAL_ID_KEY) ||\n    new URL(window.location.href).searchParams.get(\"ids\") ||\n    \"\";\n  return idsStored.split(Separater).map((id) => ({\n    id: Number(id) || 1,\n  }));\n};\n\nexport default function App() {\n  const [wsStatus, setWSStatus] = useState<number>(0);\n  const [edit, setEdit] = useState(false);\n\n  const [prices, setPrices] = useState<\n    {\n      id: number;\n      price?: number;\n      p24h?: number;\n      slug?: string;\n      name?: string;\n    }[]\n  >(getIds);\n\n  const [expandStatus, setExpandStatus] = useState({});\n\n  const ids = prices.map(({ id }) => id);\n\n  const resubscribing = useRef(false);\n\n  const mapData = useGetMapStorage(LOCAL_KEY);\n\n  const WSInstance = useRef<WebSocket>();\n\n  const [refetchAPI, lastRefetch] = useGetListings(ids, setPrices);\n\n  const initWS = () => {\n    let WS;\n    try {\n      WS = new WebSocket(\"wss://stream.coinmarketcap.com/price/latest\");\n      WSInstance.current = WS;\n    } catch (e) {\n      console.log(\"reconnect!\");\n      setTimeout(() => {\n        initWS();\n        subscribeWS(ids);\n      }, 1000);\n    }\n  };\n\n  const closeWS = () => {\n    WSInstance.current?.close();\n  };\n\n  const subscribeWS = (ids: number[]) => {\n    if (!WSInstance.current) return;\n    const WS = WSInstance.current;\n    setWSStatus(WS.readyState);\n    WS.onopen = function () {\n      console.log(\"ws connected!\");\n      setWSStatus(WS.readyState);\n      if (resubscribing.current) {\n        resubscribing.current = false;\n      }\n      const param = {\n        method: \"subscribe\",\n        id: \"price\",\n        data: {\n          cryptoIds: ids,\n        },\n      };\n      WS.send(JSON.stringify(param));\n\n      WS.onmessage = function (res) {\n        const data = JSON.parse(res.data);\n        if (data?.d?.cr) {\n          const info = data.d.cr;\n          // console.log(info);\n          eventEmitter.emit(`WS-${info.id}`, info);\n          setPrices((prices) => {\n            return prices.map((p) => {\n              if (p.id === info.id) {\n                return {\n                  ...info,\n                  ...p,\n                  price: info.p,\n                  p24h: info.p24h,\n                };\n              }\n              return p;\n            });\n          });\n        } else {\n          console.log(data);\n        }\n      };\n      WS.addEventListener(\"close\", (e) => {\n        console.log(\"ws closed!\");\n        setWSStatus(WS.readyState);\n        if (!resubscribing.current) {\n          console.log(\"reconnecting...\");\n          refetchAPI();\n          setTimeout(() => {\n            initWS();\n            subscribeWS(ids);\n          }, 1000);\n        }\n      });\n    };\n  };\n\n  const reconnect = () => {\n    console.log(\"reconnect!\");\n    closeWS();\n    initWS();\n    subscribeWS(ids);\n  };\n\n  const handleAddOrRemove = (id: number, add?: boolean) => {\n    if (ids.includes(id) && add) {\n      return;\n    }\n    setPrices((prices) => {\n      const newPrices = add\n        ? [\n            ...prices,\n            {\n              id: id,\n            },\n          ]\n        : prices.filter((price) => price.id !== id);\n      return newPrices;\n    });\n  };\n\n  const handleExpand = (expand?: boolean) => {\n    if (expand) {\n      // setExpandStatus((e) => e.map((_) => 1));\n    } else {\n      setExpandStatus({});\n    }\n  };\n\n  const writeURL = (ids: string) => {\n    const url = new URL(window.location.href);\n    url.searchParams.set(\"ids\", ids);\n    window.history.replaceState(\"\", document.title, url);\n  };\n\n  /**\n   * rewrite URL when id length / order changes\n   */\n  useSubsequentUpdate(() => {\n    const idsString = ids.join(Separater);\n    writeURL(idsString);\n    localStorage.setItem(LOCAL_ID_KEY, idsString);\n    // if (ids.length) {\n    // }\n  }, ids.join());\n\n  /**\n   * resubscribe when id length changes\n   */\n  useEffect(() => {\n    if (ids.length) {\n      resubscribing.current = true;\n      reconnect();\n    }\n  }, [ids.length]);\n\n  // console.log(prices)\n\n  return (\n    <GlobalContextProvider>\n      <div className='App'>\n        {/* <Gas /> */}\n        <HeadWrapper>\n          <AddToken\n            onAdd={(id: number) => handleAddOrRemove(id, true)}\n            mapData={mapData}\n          />\n          <button onClick={() => handleExpand(false)}>{\"Collapse All\"}</button>\n          &nbsp;\n          <button onClick={() => setEdit(!edit)}>\n            {edit ? \"Done\" : \"Edit\"}\n          </button>\n          {/* &nbsp;\n        <button onClick={() => handleExpand(true)}>{\"Expand\"}</button> */}\n        </HeadWrapper>\n        <Wrapper>\n          {prices.map((info: any, idx) => (\n            <PriceCell\n              name={mapData[info.id]?.symbol}\n              key={info.id}\n              info={info}\n              onRemove={(id: number) => handleAddOrRemove(id)}\n              prices={prices}\n              setPrices={setPrices}\n              idx={idx}\n              expandStatus={expandStatus}\n              setExpandStatus={setExpandStatus}\n              edit={edit}\n            />\n          ))}\n        </Wrapper>\n        <Info />\n        {/* <button onClick={() => console.log(eventEmitter)}>Log!</button> */}\n        {/* <WSStatus /> */}\n        {ids.length ? (\n          <Status\n            wsStatus={wsStatus}\n            // wsInstance={WSInstance}\n            reconnect={reconnect}\n            lastRefetch={lastRefetch}\n          />\n        ) : null}\n\n        {/* <div>\n        <button onClick={() => closeWS()}>Disconnect</button>\n        <button\n          onClick={() => {\n            initWS();\n            subscribeWS(ids);\n          }}\n        >\n          Connect\n        </button>\n      </div> */}\n      </div>\n    </GlobalContextProvider>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}